<metal:block metal:use-macro="context/application/@@layout/macros/page">
<div metal:fill-slot='content'>
<h1>Location</h1>
(<a tal:attributes="href context/url">url</a>)
<p tal:content="context/name">name</p>
<tal:block tal:condition="context/description">
<h1>Description:</h1>
<p tal:content="context/description">description</p>
</tal:block>
<h1>Events</h1>
<div tal:repeat="event context/getEvents"
     tal:define="global lastStart python:None">
<h2 tal:condition="python:lastStart!=event.start.day"
    tal:content="python:event.start.strftime('%A')">Dayname</h2>
    <span tal:replace="python: '%s - %s' % (event.start.strftime('%H:%M'), event.name)" />
    <span tal:condition="python: (event.end - event.start) > view.zeroSeconds"
          tal:replace="python: '(%s)' % view.formatInterval(event.end - event.start)" />


<span tal:condition="python: False"
      tal:define="global lastStart python:event.start.day" />
</div>

</div>
</metal:block >
